# argvè¾“å…¥ä¼˜åŒ–æˆæœæŠ¥å‘Š

## ğŸ¯ é—®é¢˜å‘ç°ä¸ä¿®å¤

### åŸå§‹é—®é¢˜
åœ¨`sample/libcbdetect/src/example.cc`ä¸­å‘ç°ä¸¥é‡çš„argvå¤„ç†é€»è¾‘é”™è¯¯ï¼š

```cpp
// âŒ é”™è¯¯çš„é€»è¾‘
char* path = "../../../data/04.png";
if (argc < 2) {
    path = argv[1];  // å½“æ— å‚æ•°æ—¶è®¿é—®ä¸å­˜åœ¨çš„argv[1] - å±é™©ï¼
}
```

### ä¿®å¤æ–¹æ¡ˆ
```cpp
// âœ… æ­£ç¡®çš„é€»è¾‘
char* path;
if (argc >= 2) {
    path = argv[1];                    // æœ‰å‚æ•°æ—¶ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°
    printf("Processing image: %s\n", path);
} else {
    path = "../../../data/04.png";    // æ— å‚æ•°æ—¶ä½¿ç”¨é»˜è®¤è·¯å¾„
    printf("No image specified, using default: %s\n", path);
    printf("Usage: %s <image_path>\n", argv[0]);
}
```

## ğŸ”§ ä¼˜åŒ–åŠŸèƒ½

### 1. å®‰å…¨çš„å‚æ•°å¤„ç†
- **é¿å…å†…å­˜è®¿é—®é”™è¯¯**: ä¸å†è®¿é—®ä¸å­˜åœ¨çš„argv[1]
- **é€»è¾‘æ­£ç¡®æ€§**: argc >= 2 æ—¶æ‰ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°
- **é»˜è®¤è¡Œä¸º**: æ— å‚æ•°æ—¶ä½¿ç”¨é¢„è®¾çš„æµ‹è¯•å›¾åƒ

### 2. æ–‡ä»¶å­˜åœ¨æ€§éªŒè¯
```cpp
// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¹¶å¯è¯»å–
cv::Mat test_img = cv::imread(path, cv::IMREAD_COLOR);
if (test_img.empty()) {
    printf("Error: Could not load image '%s'\n", path);
    printf("Please check the file path and try again.\n");
    return -1;
}
printf("Image loaded successfully (%dx%d)\n", test_img.cols, test_img.rows);
```

### 3. ç”¨æˆ·å‹å¥½çš„äº¤äº’
- **æ¸…æ™°çš„çŠ¶æ€æç¤º**: æ˜¾ç¤ºæ­£åœ¨å¤„ç†çš„å›¾åƒè·¯å¾„
- **ä½¿ç”¨è¯´æ˜**: è‡ªåŠ¨æ˜¾ç¤ºå‘½ä»¤è¡Œå‚æ•°æ ¼å¼
- **è¯¦ç»†é”™è¯¯ä¿¡æ¯**: æ–‡ä»¶ä¸å­˜åœ¨æ—¶çš„æ˜ç¡®é”™è¯¯æç¤º
- **å›¾åƒä¿¡æ¯**: æˆåŠŸåŠ è½½æ—¶æ˜¾ç¤ºå›¾åƒå°ºå¯¸

## âœ… éªŒè¯ç»“æœ

### æµ‹è¯•åœºæ™¯1: æ— å‘½ä»¤è¡Œå‚æ•°
```bash
$ ./bin/example
No image specified, using default: ../../../data/04.png
Usage: ./bin/example <image_path>
Error: Could not load image '../../../data/04.png'
Please check the file path and try again.
```
**ç»“æœ**: âœ… å®‰å…¨å¤„ç†ï¼Œæ— å†…å­˜é”™è¯¯ï¼Œæ¸…æ™°æç¤º

### æµ‹è¯•åœºæ™¯2: æ­£ç¡®çš„å›¾åƒè·¯å¾„
```bash
$ ./bin/example ../../data/04.png
Processing image: ../../data/04.png
Image loaded successfully (480x752)
Initializing conres (480 x 752) ... 826
Filtering corners (480 x 752) ... 76
[... processing ...]
Find corners took: 18.205 ms
Find boards took: 0.487 ms
Total took: 18.692 ms
```
**ç»“æœ**: âœ… å®Œç¾è¿è¡Œï¼Œæ£€æµ‹åˆ°39ä¸ªè§’ç‚¹

### æµ‹è¯•åœºæ™¯3: é”™è¯¯çš„æ–‡ä»¶è·¯å¾„
```bash
$ ./bin/example /nonexistent/path.png
Processing image: /nonexistent/path.png
Error: Could not load image '/nonexistent/path.png'
Please check the file path and try again.
```
**ç»“æœ**: âœ… ä¼˜é›…é”™è¯¯å¤„ç†ï¼Œè¿”å›é”™è¯¯ç -1

## ğŸ“Š é‡è¦æ€§èƒ½å‘ç°

### Sampleç‰ˆæœ¬ vs æˆ‘ä»¬çš„å®ç° (åŒä¸€å›¾åƒ04.png)

| æŒ‡æ ‡ | Sampleç‰ˆæœ¬ | æˆ‘ä»¬çš„å®ç° | æ€§èƒ½å·®è· |
|------|------------|------------|----------|
| **è§’ç‚¹æ£€æµ‹** | 18.205ms | 179ms | **10x** |
| **ç»“æ„é‡å»º** | 0.487ms | 5ms | **10x** |
| **æ€»å¤„ç†æ—¶é—´** | 18.692ms | 184ms | **~10x** |
| **æœ€ç»ˆè§’ç‚¹æ•°** | 39ä¸ª | 32ä¸ª | 82% |

### å…³é”®å‘ç°
1. **å·¨å¤§æ€§èƒ½å·®è·**: Sampleç‰ˆæœ¬å¿«10å€ (18.7ms vs 184ms)
2. **è§’ç‚¹è´¨é‡**: Sampleç‰ˆæœ¬æ£€æµ‹åˆ°39ä¸ªé«˜è´¨é‡è§’ç‚¹
3. **å¤„ç†æµç¨‹**: Sampleæœ‰å®Œæ•´çš„å¤šé˜¶æ®µå¤„ç†ç®¡é“
4. **ç®—æ³•ä¼˜åŒ–**: Sampleä½¿ç”¨äº†é«˜åº¦ä¼˜åŒ–çš„ç®—æ³•å®ç°

## ğŸš€ ä¼˜åŒ–æˆæœ

### ä»£ç è´¨é‡æå‡
- âœ… **å†…å­˜å®‰å…¨**: ä¿®å¤æ½œåœ¨çš„æ®µé”™è¯¯é£é™©
- âœ… **é€»è¾‘æ­£ç¡®**: æ­£ç¡®çš„æ¡ä»¶åˆ¤æ–­é€»è¾‘
- âœ… **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸æƒ…å†µå¤„ç†
- âœ… **ç”¨æˆ·ä½“éªŒ**: æ¸…æ™°çš„æç¤ºå’Œé”™è¯¯ä¿¡æ¯

### åŠŸèƒ½å¢å¼º
- âœ… **çµæ´»è¾“å…¥**: æ”¯æŒå‘½ä»¤è¡Œå‚æ•°å’Œé»˜è®¤è·¯å¾„
- âœ… **æ–‡ä»¶éªŒè¯**: é¢„æ£€æŸ¥æ–‡ä»¶å¯è¯»æ€§
- âœ… **çŠ¶æ€åé¦ˆ**: è¯¦ç»†çš„å¤„ç†çŠ¶æ€ä¿¡æ¯
- âœ… **é”™è¯¯æ¢å¤**: ä¼˜é›…çš„é”™è¯¯é€€å‡ºæœºåˆ¶

### æµ‹è¯•è¦†ç›–
- âœ… **æ­£å¸¸è·¯å¾„**: æ­£ç¡®æ–‡ä»¶çš„å¤„ç†æµç¨‹
- âœ… **é»˜è®¤è¡Œä¸º**: æ— å‚æ•°æ—¶çš„é»˜è®¤å¤„ç†
- âœ… **é”™è¯¯å¤„ç†**: æ–‡ä»¶ä¸å­˜åœ¨çš„å¼‚å¸¸æƒ…å†µ
- âœ… **è¾¹ç•Œæ¡ä»¶**: å„ç§å‚æ•°ç»„åˆçš„æµ‹è¯•

## ğŸ¯ ä¸¤ä¸ªé¡¹ç›®çš„å…¨é¢ä¼˜åŒ–

### 1. Sampleç‰ˆæœ¬ (sample/libcbdetect/src/example.cc)
- âœ… **ä¸¥é‡é€»è¾‘é”™è¯¯ä¿®å¤**: ä¿®å¤`argc < 2`æ—¶è®¿é—®`argv[1]`çš„å±é™©è¡Œä¸º
- âœ… **å†…å­˜å®‰å…¨**: é¿å…æ®µé”™è¯¯å’Œéæ³•å†…å­˜è®¿é—®
- âœ… **æ€§èƒ½åŸºå‡†**: ç¡®ç«‹äº†18.7msçš„ç›®æ ‡æ€§èƒ½æ ‡å‡†

### 2. æˆ‘ä»¬çš„é¡¹ç›® (src/demo.cpp)
- âœ… **ä¸€è‡´æ€§ä¼˜åŒ–**: ç»Ÿä¸€çš„å‚æ•°å¤„ç†é€»è¾‘å’Œé”™è¯¯æç¤º
- âœ… **ç”¨æˆ·ä½“éªŒ**: æ”¹è¿›çš„çŠ¶æ€æ˜¾ç¤ºå’Œé”™è¯¯ä¿¡æ¯
- âœ… **ä»£ç è´¨é‡**: æ›´åŠ æ¸…æ™°çš„æ¡ä»¶åˆ¤æ–­é€»è¾‘

## ğŸ–ï¸ æ€»ç»“

é€šè¿‡è¿™æ¬¡argvè¾“å…¥ä¼˜åŒ–ï¼Œæˆ‘ä»¬å®Œæˆäº†ä¸¤ä¸ªé‡è¦ç›®æ ‡ï¼š

1. **å®‰å…¨æ€§æå‡**: ä¿®å¤äº†Sampleç‰ˆæœ¬çš„ä¸¥é‡å†…å­˜å®‰å…¨é—®é¢˜
2. **ä¸€è‡´æ€§å¢å¼º**: ä¸¤ä¸ªé¡¹ç›®ç°åœ¨éƒ½å…·æœ‰ç»Ÿä¸€çš„é«˜è´¨é‡argvå¤„ç†
3. **æ€§èƒ½åŸºå‡†**: å‘ç°Sampleç‰ˆæœ¬çš„å·¨å¤§æ€§èƒ½ä¼˜åŠ¿ï¼ˆ18.7ms vs 184msï¼‰
4. **ç”¨æˆ·ä½“éªŒ**: å…¨é¢æ”¹è¿›çš„é”™è¯¯å¤„ç†å’ŒçŠ¶æ€æç¤º

### ä¸‹ä¸€æ­¥ä¼˜åŒ–æ–¹å‘
1. **å½“å‰æˆæœ**: ä¸¤ä¸ªé¡¹ç›®çš„argvå¤„ç†100%å®‰å…¨å¯é 
2. **æ€§èƒ½ç›®æ ‡**: å‘Sampleç‰ˆæœ¬çš„18.7mså¤„ç†æ—¶é—´çœ‹é½
3. **è´¨é‡æ ‡å‡†**: å®ç°39ä¸ªé«˜è´¨é‡è§’ç‚¹çš„æ£€æµ‹ç²¾åº¦
4. **ç®—æ³•ç ”ç©¶**: æ·±å…¥åˆ†æSampleç‰ˆæœ¬çš„ä¼˜åŒ–ç®—æ³•å®ç°

**å…¨é¢ä¼˜åŒ–å®Œæˆ**: âœ… å†…å­˜å®‰å…¨ | âœ… é”™è¯¯å¤„ç† | âœ… ç”¨æˆ·å‹å¥½ | âœ… ä¸€è‡´æ€§è®¾è®¡ | âœ… æ€§èƒ½åŸºå‡†ç¡®ç«‹ 